@use "constants" as *;
@use "calculations" as *;

nav#top-nav menu#menu-main {
	li#choose-theme {
		align-items: baseline;
		justify-content: center;
		line-height: 4rem;
		a {
			font-family: "Fontastic icons";
			font-size: 1.1rem;
			padding: 0;
			text-align: center;
			text-decoration-thickness: 2px;
			text-transform: lowercase;
			text-underline-offset: 6px;
		}
	}
}

body {
	&.theme-regular {
		a#theme-regular {
			text-decoration: underline;
		}
	}
	&.theme-dark {
		a#theme-dark {
			text-decoration: underline;
		}
	}
	&.theme-contrast {
		a#theme-contrast {
			text-decoration: underline;
		}
	}
	&.theme-system {
		a#theme-system {
			text-decoration: underline;
		}
	}
}

@mixin theme-dark-overrides() {
	img {
		&[src*="svg"] {
			filter: invert(1);
		}
		&[src*="jpg"] {
			filter: brightness(0.75);
		}
	}
}

@mixin theme-contrast-overrides() {
	.dropcap::before {
		display: none;
	}
	body, section, div, span, aside, audio, menu, header, footer, nav, ul, h1, h2, h3, h4, h5, h6, p, li, a, aside, audio, figure, figcaption, span {
		background-color: black !important;
		border-color: white !important;
		color: white !important;
		text-decoration-color: white !important;
	}
	img[src*="svg"] {
		filter: invert(1);
		filter: brightness(1.5);
	}
}

body {
	&.theme-dark {
		@include theme-dark-overrides;
	}
	&.theme-contrast {
		@include theme-contrast-overrides;
	}
	&.theme-system {
		@media screen and (prefers-color-scheme: dark) {
			@include theme-dark-overrides;
		}
		@media screen and (prefer-contrast: more) {
			@include theme-contrast-overrides;
		}
	}
}
